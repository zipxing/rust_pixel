# 动态字体渲染 (Dynamic Font Rendering)

## Why

当前图形模式下的 TUI 文本渲染使用预制纹理图集,存在两个主要问题:
1. **清晰度不足**: 渲染的文本不如终端软件使用字体光栅化的清晰
2. **中文支持有限**: 预制纹理无法覆盖数量庞大的中日韩(CJK)字符

这限制了 rust_pixel 在需要高质量文本渲染和完整 Unicode 支持的应用场景中的可用性。

## What Changes

- 添加基于 `fontdue` 库的动态字体光栅化功能
- 实现混合渲染模式:
  - 静态纹理图集用于 ASCII/PETSCII/Emoji (现有)
  - 动态字体渲染用于 CJK 及其他 Unicode 字符 (新增)
- 添加带 LRU 缓存的延迟加载机制
- 保持基于图块(tile-based)的渲染架构理念
- 预留接口供未来升级动态 Emoji 渲染

**性能特征:**
- 首次字符渲染: ~0.05-0.1ms (含缓存)
- 缓存字符渲染: 0ms (等同于静态纹理)
- 启动时预加载常用字符

## Impact

**影响的规范:**
- `rendering` - 新增动态字体渲染能力

**影响的代码:**
- `src/render/adapter/*.rs` - 所有图形模式适配器 (SDL, Glow, WGPU, Web)
- `src/render/cell.rs` - 可能需要扩展 Cell 结构以支持字形元数据
- `src/asset.rs` - 字体资源加载和管理
- `Cargo.toml` - 添加 `fontdue = "0.8"` 依赖

**破坏性变更:**
- 无 - 这是增强现有功能的附加特性

**迁移:**
- 现有应用无需修改即可继续工作
- 应用可通过加载 TTF 字体选择启用更好的文本质量
